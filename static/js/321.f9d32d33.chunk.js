"use strict";(self.webpackChunkaston_react=self.webpackChunkaston_react||[]).push([[321],{8082:(e,n,r)=>{r.d(n,{t:()=>I});var t=r(2791),i=r(7689),o=r(1087),s=r(168),a=r(1134),d=r(5867),c=r(272),l=r(8345),x=r(6812);var h,p,u=r(9869),b=r(8839),m=r(3527),f=r(184);const g=e=>{let{beers:n,searchValue:r,isLoading:t}=e;return(0,f.jsx)(f.Fragment,{children:r&&(0,f.jsxs)(v,{children:[t&&(0,f.jsx)("p",{children:"Loading...."}),n.map((e=>(0,f.jsx)(u.r,{to:"".concat(m.Z.CARD,"/").concat(e.id),children:(0,f.jsx)(j,{children:(0,f.jsx)(b.P1,{children:e.name})})},e.id)))]})})},v=d.ZP.ul(h||(h=(0,s.Z)(["\n  position: absolute;\n  top: 110px;\n  width: 315px;\n  min-height: 20px;\n  max-height: 300px;\n  overflow: overlay;\n  background: ",";\n  border-radius: ",";\n"])),(e=>e.theme.colors.white),(e=>e.theme.borders.primary)),j=d.ZP.li(p||(p=(0,s.Z)(["\n  padding: 10px 0 5px 10px;\n"])));var Z;const w={search:""},k=e=>{const n=(0,t.useContext)(x.ls),{onSubmitForm:r,beers:i,isLoading:o}=e,{register:s,reset:d,handleSubmit:h,watch:p,formState:{errors:u,isSubmitting:b,isDirty:m}}=(0,a.cI)({defaultValues:w,mode:"onBlur",criteriaMode:"all"}),v=p("search",w.search);(0,t.useEffect)((()=>{n({type:"addSearchValue",searchValue:v})}),[n,v]);return(0,f.jsxs)(P,{onSubmit:h((e=>{r(e),d()})),children:[(0,f.jsx)(c.I,{placeholder:"Search beers ...",type:"search",...s("search"),errorOn:!!u.search}),(0,f.jsx)(g,{beers:i,searchValue:v,isLoading:o}),(0,f.jsx)(l.z,{type:"submit",size:"middle",disabled:!m||b,children:"Search"})]})},P=d.ZP.form(Z||(Z=(0,s.Z)(["\n  display: flex;\n  gap: 10px;\n  width: 100%;\n  background-color: ",";\n  border-top: 2px solid ",";\n  padding: 10px 0 0 10px;\n"])),(e=>e.theme.colors.black),(e=>e.theme.colors.accent));var y=r(8862),F=r(6045),S=r(9872),C=r(9322);const I=()=>{const[e,n]=(0,o.lr)(),r=(0,y.C)(F.u.getIsAuth),s=(0,y.T)(),a=(0,t.useContext)(x.ci),d=(0,i.s0)(),c=function(e,n){const[r,i]=(0,t.useState)(e);return(0,t.useEffect)((()=>{const r=setTimeout((()=>i(e)),n||500);return()=>{clearTimeout(r)}}),[e,n]),r}(a.searchValue,2e3),{data:l=[],isLoading:h}=(0,C.Q9)({beerName:c},{skip:!Boolean(c)});return(0,f.jsx)(k,{beers:l,isLoading:h,onSubmitForm:e=>{d(m.Z.SEARCH),n({beer_name:e.search}),r&&s((0,S.gs)(e.search))}})}},6321:(e,n,r)=>{r.r(n),r.d(n,{default:()=>j});var t,i,o=r(2791),s=r(6365),a=r(168),d=r(5867),c=r(573),l=r(3052),x=r(28),h=r(8862),p=r(3828),u=r(184);const b=()=>{const{data:e=[],isLoading:n,isSuccess:r,isError:t,error:i}=(0,x.SI)({page:1}),o=(0,h.C)(p.M.getFavorites),s=e.map((e=>{const n=o.find((n=>n.id===e.id));return n?{...e,isFavorite:n.isFavorite}:{...e,isFavorite:!1}}));let a;if(n)a=(0,u.jsx)(l.a,{});else if(r)a=(0,u.jsx)(f,{children:s.map((e=>{var n;return(0,u.jsx)(c.D,{id:e.id,name:e.name,imageUrl:e.imageUrl,description:e.description,abv:e.abv,ibu:null!==(n=e.ibu)&&void 0!==n?n:"",isFavorite:e.isFavorite},e.id)}))});else if(t)throw new Error(i.toString());return(0,u.jsx)(m,{children:a})},m=d.ZP.div(t||(t=(0,a.Z)(["\n  width: 60%;\n"]))),f=d.ZP.ul(i||(i=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding: 20px 0 80px 0;\n"])));var g=r(8082),v=r(579);const j=()=>{const e=(0,h.T)();return(0,o.useEffect)((()=>{e((0,v.k_)())})),(0,u.jsxs)(s.N,{children:[(0,u.jsx)(g.t,{}),(0,u.jsx)(b,{})]})}},3828:(e,n,r)=>{r.d(n,{M:()=>t});const t={getFavorites:e=>e.favourites.favorites,getIsFavourites:e=>e.favourites.isFavorites}},573:(e,n,r)=>{r.d(n,{D:()=>Z});var t,i,o,s,a,d=r(168),c=(r(2791),r(5867)),l=r(9869),x=r(8345),h=r(8839),p=r(7938),u=r(5514),b=r(3527),m=r(8862),f=r(6045),g=r(579),v=r(1308),j=r(184);const Z=e=>{const n=(0,m.T)(),{id:r,name:t,imageUrl:i,description:o,abv:s,ibu:a,isFavorite:d}=e,c=(0,m.C)(f.u.getIsAuth),[Z,S]=(0,u.O)(d);return(0,j.jsxs)(w,{children:[(0,j.jsx)(k,{children:(0,j.jsx)(P,{to:"".concat(b.Z.CARD,"/").concat(r),children:(0,j.jsx)("img",{src:null!==i&&void 0!==i?i:v,alt:"beer"})})}),(0,j.jsxs)(y,{children:[(0,j.jsx)(l.r,{to:"".concat(b.Z.CARD,"/").concat(r),children:(0,j.jsx)(h.H3,{children:t})}),(0,j.jsx)(h.P2,{children:o}),(0,j.jsxs)(h.P4,{children:["ABV-",s,"% IBU-",a]})]}),(0,j.jsx)(F,{children:c?(0,j.jsx)(x.z,{size:"small",onClick:()=>{n(Z?(0,g.fu)(r):(0,g.IO)(e)),S()},children:(0,j.jsx)(p.I,{color:Z?"blue":"dark"})}):null})]})},w=c.ZP.li(t||(t=(0,d.Z)(["\n  display: flex;\n  align-items: flex-start;\n  gap: 20px;\n  padding: 15px;\n  background: ",";\n  border-radius: ",";\n  border: 1px solid #7e6464;\n"])),(e=>e.theme.colors.white),(e=>e.theme.borders.primary)),k=c.ZP.div(i||(i=(0,d.Z)(["\n  align-self: center;\n"]))),P=(0,c.ZP)(l.r)(o||(o=(0,d.Z)(["\n  display: block;\n  width: 30px;\n  height: 120px;\n\n  & img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n  }\n"]))),y=c.ZP.div(s||(s=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 30px;\n"]))),F=c.ZP.div(a||(a=(0,d.Z)(["\n  flex: 1 0 auto;\n  text-align: end;\n  min-width: 40px;\n"])))},272:(e,n,r)=>{r.d(n,{I:()=>c});var t,i,o=r(168),s=r(2791),a=r(5867),d=r(184);const c=(0,s.forwardRef)(((e,n)=>{const{errorOn:r,...t}=e;return(0,d.jsx)(l,{children:(0,d.jsx)(x,{$errorOn:r,ref:n,...t})})})),l=a.ZP.div(t||(t=(0,o.Z)(["\n  max-width: 315px;\n  width: 100%;\n"]))),x=a.ZP.input(i||(i=(0,o.Z)(["\n  width: 100%;\n  height: 34px;\n  background: ",";\n  border-radius: ",";\n  border: 1px solid ",";\n  color: ",";\n  padding-left: 10px;\n  margin-bottom: 18px;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:hover,\n  :focus {\n    ::placeholder {\n      color: ",";\n    }\n  }\n"])),(e=>e.theme.colors.backgroundInput),(e=>e.theme.borders.primary),(e=>e.$errorOn?e.theme.colors.error:e.theme.colors.white),(e=>e.$errorOn?e.theme.text.error:e.theme.text.textInvert),(e=>e.theme.text.placeholder),(e=>e.theme.text.placeholder))},3052:(e,n,r)=>{r.d(n,{a:()=>l});var t,i,o,s,a=r(168),d=(r(2791),r(5867)),c=r(184);const l=()=>(0,c.jsx)(p,{children:(0,c.jsx)(u,{})}),x=(0,d.F4)(t||(t=(0,a.Z)(["\n  0% { box-shadow: 0 0  inset }\n  50% , 100% { box-shadow: 0 -98px inset }\n"]))),h=(0,d.F4)(i||(i=(0,a.Z)(["\n  0% , 50%{ box-shadow: 0 0  inset }\n  100% { box-shadow: 0 -20px inset }\n"]))),p=d.ZP.div(o||(o=(0,a.Z)(["\n  text-align: center;\n"]))),u=d.ZP.span(s||(s=(0,a.Z)(["\n  width: 40px;\n  height: 98px;\n  display: inline-block;\n  position: relative;\n  border: 2px solid #fff;\n  box-sizing: border-box;\n  color: rgba(255, 61, 0, 0.9);\n  border-radius: 20px 20px 4px 4px;\n  background: #fff;\n  animation: "," 2s linear infinite alternate;\n\n  &::after {\n    content: '';\n    box-sizing: border-box;\n    position: absolute;\n    left: 50%;\n    top: 0%;\n    transform: translate(-50%, -95%);\n    border: 2px solid #fff;\n    border-bottom: none;\n    background: #fff;\n    width: 15px;\n    height: 35px;\n    animation: "," 2s linear infinite alternate;\n  }\n"])),x,h)}}]);
//# sourceMappingURL=321.f9d32d33.chunk.js.map