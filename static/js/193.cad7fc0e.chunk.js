"use strict";(self.webpackChunkaston_react=self.webpackChunkaston_react||[]).push([[193],{8082:(e,n,r)=>{r.d(n,{t:()=>A});var t=r(2791),i=r(7689),s=r(1087),a=r(168),o=r(1134),c=r(5867),l=r(272),d=r(8345),h=r(6812);var x,u,p=r(9869),m=r(8839),b=r(3527),g=r(184);const j=e=>{let{beers:n,searchValue:r,isLoading:t}=e;return(0,g.jsx)(g.Fragment,{children:r&&(0,g.jsxs)(f,{children:[t&&(0,g.jsx)("p",{children:"Loading...."}),n.map((e=>(0,g.jsx)(p.r,{to:"".concat(b.Z.CARD,"/").concat(e.id),children:(0,g.jsx)(Z,{children:(0,g.jsx)(m.P1,{children:e.name})})},e.id)))]})})},f=c.ZP.ul(x||(x=(0,a.Z)(["\n  position: absolute;\n  top: 110px;\n  width: 315px;\n  min-height: 20px;\n  max-height: 300px;\n  overflow: overlay;\n  background: ",";\n  border-radius: ",";\n"])),(e=>e.theme.colors.white),(e=>e.theme.borders.primary)),Z=c.ZP.li(u||(u=(0,a.Z)(["\n  padding: 10px 0 5px 10px;\n"])));var v;const w={search:""},P=e=>{const n=(0,t.useContext)(h.ls),{onSubmitForm:r,beers:i,isLoading:s}=e,{register:a,reset:c,handleSubmit:x,watch:u,formState:{errors:p,isSubmitting:m,isDirty:b}}=(0,o.cI)({defaultValues:w,mode:"onBlur",criteriaMode:"all"}),f=u("search",w.search);(0,t.useEffect)((()=>{n({type:"addSearchValue",searchValue:f})}),[n,f]);return(0,g.jsxs)(k,{onSubmit:x((e=>{r(e),c()})),children:[(0,g.jsx)(l.I,{placeholder:"Search beers ...",type:"search",...a("search"),errorOn:!!p.search}),(0,g.jsx)(j,{beers:i,searchValue:f,isLoading:s}),(0,g.jsx)(d.z,{type:"submit",size:"middle",disabled:!b||m,children:"Search"})]})},k=c.ZP.form(v||(v=(0,a.Z)(["\n  display: flex;\n  gap: 10px;\n  width: 100%;\n  background-color: ",";\n  border-top: 2px solid ",";\n  padding: 10px 0 0 10px;\n"])),(e=>e.theme.colors.black),(e=>e.theme.colors.accent));var y=r(8862),S=r(6045),C=r(9872),I=r(9322);const A=()=>{const[e,n]=(0,s.lr)(),r=(0,y.C)(S.u.getIsAuth),a=(0,y.T)(),o=(0,t.useContext)(h.ci),c=(0,i.s0)(),l=function(e,n){const[r,i]=(0,t.useState)(e);return(0,t.useEffect)((()=>{const r=setTimeout((()=>i(e)),n||500);return()=>{clearTimeout(r)}}),[e,n]),r}(o.searchValue,2e3),{data:d=[],isLoading:x}=(0,I.Q9)({beerName:l},{skip:!Boolean(l)});return(0,g.jsx)(P,{beers:d,isLoading:x,onSubmitForm:e=>{c(b.Z.SEARCH),n({beer_name:e.search}),r&&a((0,C.gs)(e.search))}})}},1193:(e,n,r)=>{r.r(n),r.d(n,{SearchPage:()=>g,default:()=>j});r(2791);var t,i,s=r(6365),a=r(8082),o=r(168),c=r(5867),l=r(1087),d=r(8839),h=r(9322),x=r(5945),u=r(184);const p=()=>{const[e]=(0,l.lr)(),n=e.get("beer_name"),{data:r=[]}=(0,h.Q9)({beerName:n},{skip:!Boolean(n)});return(0,u.jsx)(m,{children:(0,u.jsx)(b,{children:0!==r.length?r.map((e=>{var n;return(0,u.jsx)(x.D,{id:e.id,name:e.name,imageUrl:e.imageUrl,description:e.description,abv:e.abv,ibu:null!==(n=e.ibu)&&void 0!==n?n:""},e.id)})):(0,u.jsx)(d.P3,{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})})},m=c.ZP.div(t||(t=(0,o.Z)(["\n  width: 60%;\n"]))),b=c.ZP.ul(i||(i=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding: 20px 0 80px 0;\n"]))),g=()=>(0,u.jsxs)(s.N,{children:[(0,u.jsx)(a.t,{}),(0,u.jsx)(p,{})]}),j=g},5945:(e,n,r)=>{r.d(n,{D:()=>v});var t=r(168),i=r(2791),s=r(5867),a=r(9869),o=r(8345),c=r(8839),l=r(7938);var d,h,x,u,p,m=r(3527),b=r(8862),g=r(6045),j=r(4661),f=r(1308),Z=r(184);const v=e=>{const n=(0,b.T)(),{id:r,name:t,imageUrl:s,description:d,abv:h,ibu:x,isFavorite:u}=e,p=(0,b.C)(g.u.getIsAuth),[v,C]=(e=>{const[n,r]=(0,i.useState)(e);return[n,()=>r(!n)]})(!0);return(0,Z.jsxs)(w,{children:[(0,Z.jsx)(P,{children:(0,Z.jsx)(k,{to:"".concat(m.Z.CARD,"/").concat(r),children:(0,Z.jsx)("img",{src:null!==s&&void 0!==s?s:f,alt:"beer"})})}),(0,Z.jsxs)(y,{children:[(0,Z.jsx)(a.r,{to:"".concat(m.Z.CARD,"/").concat(r),children:(0,Z.jsx)(c.H3,{children:t})}),(0,Z.jsx)(c.P2,{children:d}),(0,Z.jsxs)(c.P4,{children:["ABV-",h,"% IBU-",x]})]}),(0,Z.jsx)(S,{children:p?(0,Z.jsx)(o.z,{size:"small",onClick:()=>{u?n((0,j.fu)(r)):(n(v?(0,j.IO)(e):(0,j.fu)(r)),C())},children:(0,Z.jsx)(l.I,{color:u?"blue":v?"black":"blue"})}):null})]})},w=s.ZP.li(d||(d=(0,t.Z)(["\n  display: flex;\n  align-items: flex-start;\n  gap: 20px;\n  padding: 15px;\n  background: ",";\n  border-radius: ",";\n  border: 1px solid #7e6464;\n"])),(e=>e.theme.colors.white),(e=>e.theme.borders.primary)),P=s.ZP.div(h||(h=(0,t.Z)(["\n  align-self: center;\n"]))),k=(0,s.ZP)(a.r)(x||(x=(0,t.Z)(["\n  display: block;\n  width: 30px;\n  height: 120px;\n\n  & img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n  }\n"]))),y=s.ZP.div(u||(u=(0,t.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 30px;\n"]))),S=s.ZP.div(p||(p=(0,t.Z)(["\n  flex: 1 0 auto;\n  text-align: end;\n  min-width: 40px;\n"])))},272:(e,n,r)=>{r.d(n,{I:()=>l});var t,i,s=r(168),a=r(2791),o=r(5867),c=r(184);const l=(0,a.forwardRef)(((e,n)=>{const{errorOn:r,...t}=e;return(0,c.jsx)(d,{children:(0,c.jsx)(h,{$errorOn:r,ref:n,...t})})})),d=o.ZP.div(t||(t=(0,s.Z)(["\n  max-width: 315px;\n  width: 100%;\n"]))),h=o.ZP.input(i||(i=(0,s.Z)(["\n  width: 100%;\n  height: 34px;\n  background: ",";\n  border-radius: ",";\n  border: 1px solid ",";\n  color: ",";\n  padding-left: 10px;\n  margin-bottom: 18px;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:hover,\n  :focus {\n    ::placeholder {\n      color: ",";\n    }\n  }\n"])),(e=>e.theme.colors.backgroundInput),(e=>e.theme.borders.primary),(e=>e.$errorOn?e.theme.colors.error:e.theme.colors.white),(e=>e.$errorOn?e.theme.text.error:e.theme.text.textInvert),(e=>e.theme.text.placeholder),(e=>e.theme.text.placeholder))}}]);
//# sourceMappingURL=193.cad7fc0e.chunk.js.map