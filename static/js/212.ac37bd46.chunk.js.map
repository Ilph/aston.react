{"version":3,"file":"static/js/212.ac37bd46.chunk.js","mappings":"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","sources":["store/favorites/favorites-selectors.ts","components/favorites-content.tsx","pages/favorites-page.tsx","ui/card/card-for-main-page.tsx","hooks/useToggle.tsx"],"sourcesContent":["import { RootState } from '../store'\n\nconst getFavorites = (state: RootState) => state.favourites.favorites\nconst getIsFavourites = (state: RootState) => state.favourites.isFavorites\n\nexport const favoritesSelectors = { getFavorites, getIsFavourites }\n","import React from 'react'\n\nimport styled from 'styled-components'\n\nimport { P3 } from '../assets/styles/texts'\n\nimport { useAppSelector } from '../hooks/store'\nimport { favoritesSelectors } from '../store/favorites/favorites-selectors'\n\nimport { CardForMainPage } from '../ui/card/card-for-main-page'\n\nexport const FavoritesContent = () => {\n  const favoritesBeers = useAppSelector(favoritesSelectors.getFavorites)\n  const isFavorites = useAppSelector(favoritesSelectors.getIsFavourites)\n\n  return (\n    <Container>\n      <List>\n        {favoritesBeers.length !== 0 ? (\n          favoritesBeers.map((item) => (\n            <CardForMainPage\n              key={item.id}\n              id={item.id}\n              name={item.name}\n              imageUrl={item.imageUrl}\n              description={item.description}\n              abv={item.abv}\n              ibu={item.ibu ?? ''}\n              isFavorite={isFavorites}\n            />\n          ))\n        ) : (\n          <P3>Список избранных пуст</P3>\n        )}\n      </List>\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  width: 60%;\n`\n\nconst List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding: 20px 0 80px 0;\n`\n","import React, { useEffect } from 'react'\n\nimport { BaseLayoutWithHeaderFooter } from '../components/layout/base-layout-with-header-footer'\nimport { FavoritesContent } from '../components/favorites-content'\n\nimport { useAppDispatch } from '../hooks/store'\nimport { getFavouritesOfCurrentUser } from '../store/favorites/favorites-slices'\n\nconst FavoritesPage = () => {\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    dispatch(getFavouritesOfCurrentUser())\n  })\n\n  return (\n    <BaseLayoutWithHeaderFooter>\n      <FavoritesContent />\n    </BaseLayoutWithHeaderFooter>\n  )\n}\n\nexport default FavoritesPage\n","import React from 'react'\n\nimport styled from 'styled-components'\n\nimport { Link } from '../link/link'\nimport { Button } from '../button/button'\nimport { H3, P2, P4 } from '../../assets/styles/texts'\nimport { IconBookMark } from '../../assets/icons/icon-favorites'\n\nimport { useToggle } from '../../hooks/useToggle'\n\nimport { Routes } from '../../constants/routes'\n\nimport { useAppSelector, useAppDispatch } from '../../hooks/store'\nimport { authSelectors } from '../../store/auth/auth-selectors'\nimport { addFavorites, deleteFavorites } from '../../store/favorites/favorites-slices'\n\nimport defaultImage from '../../assets/images/default-image-card.jpg'\n\ntype Props = {\n  id: number\n  name: string\n  imageUrl: string\n  description: string\n  abv: number\n  ibu: number\n  isFavorite?: boolean\n}\n\nexport const CardForMainPage = (props: Props) => {\n  const dispatch = useAppDispatch()\n  const { id, name, imageUrl, description, abv, ibu, isFavorite } = props\n  const isAuth = useAppSelector(authSelectors.getIsAuth)\n\n  //TODO еще надо подумать про переключение иконки\n  const [isToggled, setToggled] = useToggle(true)\n\n  const handleClick = () => {\n    if (isFavorite) {\n      dispatch(deleteFavorites(id))\n      return\n    }\n\n    if (isToggled) {\n      dispatch(addFavorites(props))\n    } else {\n      dispatch(deleteFavorites(id))\n    }\n    setToggled()\n  }\n\n  return (\n    <Container>\n      <ImageWrapper>\n        <ImageLink to={`${Routes.CARD}/${id}`}>\n          <img src={imageUrl ?? defaultImage} alt='beer' />\n        </ImageLink>\n      </ImageWrapper>\n      <Wrapper>\n        <Link to={`${Routes.CARD}/${id}`}>\n          <H3>{name}</H3>\n        </Link>\n        <P2>{description}</P2>\n        <P4>\n          ABV-{abv}% IBU-{ibu}\n        </P4>\n      </Wrapper>\n      <BookMark>\n        {isAuth ? (\n          <Button size={'small'} onClick={handleClick}>\n            <IconBookMark color={isFavorite ? 'blue' : isToggled ? 'black' : 'blue'} />\n          </Button>\n        ) : null}\n      </BookMark>\n    </Container>\n  )\n}\n\nconst Container = styled.li`\n  display: flex;\n  align-items: flex-start;\n  gap: 20px;\n  padding: 15px;\n  background: ${(props) => props.theme.colors.white};\n  border-radius: ${(props) => props.theme.borders.primary};\n  border: 1px solid #7e6464;\n`\n\nconst ImageWrapper = styled.div`\n  align-self: center;\n`\n\nconst ImageLink = styled(Link)`\n  display: block;\n  width: 30px;\n  height: 120px;\n\n  & img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n  }\n`\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 30px;\n`\n\nconst BookMark = styled.div`\n  flex: 1 0 auto;\n  text-align: end;\n  min-width: 40px;\n`\n","import { useState } from 'react'\n\nexport const useToggle = (defaultValue: boolean): [boolean, () => void] => {\n  const [value, setValue] = useState(defaultValue)\n\n  const toggle = () => setValue(!value)\n\n  return [value, toggle]\n}\n"],"names":["favoritesSelectors","state","favourites","favorites","isFavorites","FavoritesContent","favoritesBeers","useAppSelector","_jsx","Container","children","List","length","map","item","_item$ibu","CardForMainPage","id","name","imageUrl","description","abv","ibu","isFavorite","P3","styled","div","_templateObject","_taggedTemplateLiteral","ul","_templateObject2","FavoritesPage","dispatch","useAppDispatch","useEffect","getFavouritesOfCurrentUser","BaseLayoutWithHeaderFooter","props","isAuth","authSelectors","getIsAuth","isToggled","setToggled","defaultValue","value","setValue","useState","toggle","useToggle","_jsxs","ImageWrapper","ImageLink","to","concat","Routes","CARD","src","defaultImage","alt","Wrapper","Link","H3","P2","P4","BookMark","Button","size","onClick","handleClick","deleteFavorites","addFavorites","IconBookMark","color","li","theme","colors","white","borders","primary","_templateObject3","_templateObject4","_templateObject5"],"sourceRoot":""}