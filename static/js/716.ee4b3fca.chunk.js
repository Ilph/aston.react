"use strict";(self.webpackChunkaston_react=self.webpackChunkaston_react||[]).push([[716],{7952:(e,n,r)=>{r.d(n,{R:()=>i,b:()=>o});var t=r(2791),s=r(6812);const i=()=>(0,t.useContext)(s.ci),o=()=>(0,t.useContext)(s.ls)},5219:(e,n,r)=>{r.d(n,{t:()=>T});var t,s,i,o=r(2791),a=r(7689),d=r(1087),c=r(168),l=r(1134),h=r(5867),x=r(272),u=r(8345),p=r(7952),b=r(9869),m=r(8839),f=r(3527),g=r(184);const j=e=>{const{beers:n,searchValue:r,debounceValue:t,isLoading:s,focus:i}=e;return(0,g.jsx)(g.Fragment,{children:i&&r&&t&&(0,g.jsx)(v,{children:s?(0,g.jsx)(Z,{children:(0,g.jsx)(m.P3,{children:"Loading...."})}):0===n.length?(0,g.jsx)(Z,{children:(0,g.jsx)(m.P3,{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}):n.map((e=>(0,g.jsx)(b.r,{to:"".concat(f.Z.CARD,"/").concat(e.id),children:(0,g.jsx)(w,{children:(0,g.jsx)(m.P1,{children:e.name})})},e.id)))})})},v=h.ZP.ul(t||(t=(0,c.Z)(["\n  position: absolute;\n  top: 110px;\n  width: 315px;\n  min-height: 20px;\n  max-height: 300px;\n  overflow: overlay;\n  background: ",";\n  border-radius: ",";\n  z-index: 10;\n"])),(e=>e.theme.colors.white),(e=>e.theme.borders.primary)),w=h.ZP.li(s||(s=(0,c.Z)(["\n  padding: 10px 0 5px 10px;\n"]))),Z=h.ZP.div(i||(i=(0,c.Z)(["\n  text-align: center;\n"])));var P;const F={search:""},S=e=>{const[n]=(0,d.lr)(),[r,t]=(0,o.useState)(!1),s=(0,p.b)(),{onSubmitForm:i,beers:a,isLoading:c,debounceValue:h}=e,{register:b,reset:m,handleSubmit:f,watch:v,setValue:w,formState:{errors:Z,isSubmitting:P,isDirty:S}}=(0,l.cI)({defaultValues:F,mode:"onBlur",criteriaMode:"all"}),k=n.get("beer_name");(0,o.useEffect)((()=>{k&&w("search",h)}),[w,h,k]);let V=v("search",F.search);(0,o.useEffect)((()=>{s({type:"addSearchValue",searchValue:V})}),[s,V]);return(0,g.jsxs)(y,{onSubmit:f((e=>{i(e),m()})),children:[(0,g.jsx)(x.I,{placeholder:"Search beers ...",type:"search",...b("search"),errorOn:!!Z.search,onFocus:()=>{t(!0)},onBlur:()=>{setTimeout((()=>{t(!1)}),100)}}),(0,g.jsx)(j,{beers:a,searchValue:V,debounceValue:h,isLoading:c,focus:r}),(0,g.jsx)(u.z,{type:"submit",size:"middle",disabled:!S||P,children:"Search"})]})},y=h.ZP.form(P||(P=(0,c.Z)(["\n  display: flex;\n  gap: 10px;\n  width: 100%;\n  background-color: ",";\n  border-top: 2px solid ",";\n  padding: 10px 0 0 10px;\n"])),(e=>e.theme.colors.black),(e=>e.theme.colors.accent));var k=r(8862),V=r(6045),I=r(3822),C=r(9322);const T=()=>{const[e,n]=(0,d.lr)(),r=(0,k.T)(),t=(0,a.s0)(),s=(0,k.C)(V.u.getIsAuth),i=function(e,n){const[r,t]=(0,o.useState)(e);return(0,o.useEffect)((()=>{const r=setTimeout((()=>t(e)),n||500);return()=>{clearTimeout(r)}}),[e,n]),r}((0,p.R)().searchValue,2e3),{data:c=[],isLoading:l}=(0,C.Q9)({beerName:i},{skip:!Boolean(i)});return(0,g.jsx)(S,{beers:c,isLoading:l,debounceValue:i,onSubmitForm:e=>{t(f.Z.SEARCH),n({beer_name:e.search}),s&&r((0,I.Ve)(e.search))}})}},4716:(e,n,r)=>{r.r(n),r.d(n,{default:()=>L});var t,s,i,o,a,d=r(2791),c=r(6365),l=r(5219),h=r(168),x=r(7689),u=r(5867),p=r(28),b=r(8862),m=r(3828),f=r(6045),g=r(579),j=r(8345),v=r(8839),w=r(7938),Z=r(8218),P=r(1308),F=r(184);const S=e=>{const{id:n,name:r,imageUrl:t,firstBrewed:s,description:i,brewersTips:o,abv:a,ibu:d,srm:c,ph:l,isFavorite:h}=e,x=(0,b.T)(),u=(0,b.C)(f.u.getIsAuth),[p,m]=(0,Z.O)(h);return(0,F.jsxs)(y,{children:[(0,F.jsx)(k,{children:(0,F.jsx)("img",{src:null!==t&&void 0!==t?t:P,alt:"beer"})}),(0,F.jsxs)(V,{children:[(0,F.jsx)(v.H3,{children:r}),(0,F.jsxs)(I,{children:[(0,F.jsxs)(v.P3,{children:["ABV - ",a,"%"]}),(0,F.jsxs)(v.P3,{children:["IBU - ",d]}),(0,F.jsxs)(v.P3,{children:["SRM - ",c]}),(0,F.jsxs)(v.P3,{children:["pH - ",l]}),(0,F.jsxs)(v.P3,{children:["First brewed - ",s]})]}),(0,F.jsxs)(v.P2,{children:[(0,F.jsx)("span",{children:"Description:"})," ",i]}),(0,F.jsxs)(v.P2,{children:[(0,F.jsx)("span",{children:"Tips:"})," ",o]})]}),(0,F.jsx)(C,{children:u?(0,F.jsx)(j.z,{size:"small",onClick:()=>{x(p?(0,g.fu)(n):(0,g.IO)(e)),m()},children:(0,F.jsx)(w.I,{color:p?"blue":"dark"})}):null})]})},y=u.ZP.div(t||(t=(0,h.Z)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 15px;\n  gap: 20px;\n  background: ",";\n  border-radius: ",";\n  border: 1px solid #7e6464;\n"])),(e=>e.theme.colors.white),(e=>e.theme.borders.primary)),k=u.ZP.div(s||(s=(0,h.Z)(["\n  min-width: 20%;\n  height: 250px;\n  align-self: center;\n\n  & img {\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n  }\n"]))),V=u.ZP.div(i||(i=(0,h.Z)(["\n  flex: 1 0 min-content;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 30px;\n\n  & span {\n    font-weight: bold;\n  }\n"]))),I=u.ZP.div(o||(o=(0,h.Z)([""]))),C=u.ZP.div(a||(a=(0,h.Z)(["\n  min-width: 8%;\n  text-align: end;\n"])));var T,z=r(3052);const O=()=>{const{cardId:e}=(0,x.UO)(),{data:n,isFetching:r,isSuccess:t,isError:s,error:i}=(0,p.SM)(Number(e)),o=(0,b.C)(m.M.getFavorites);let a;if(r)a=(0,F.jsx)(z.a,{});else if(t){let e={...n,isFavorite:!1};o.forEach((r=>{r.id===n.id&&(e={...n,isFavorite:r.isFavorite})})),a=(0,F.jsx)(S,{id:e.id,name:e.name,imageUrl:e.imageUrl,firstBrewed:e.firstBrewed,description:e.description,brewersTips:e.brewersTips,abv:e.abv,ibu:e.ibu,srm:e.srm,ph:e.ph,isFavorite:e.isFavorite})}else if(s)throw new Error(i.toString());return(0,F.jsx)(B,{children:a})},B=u.ZP.div(T||(T=(0,h.Z)(["\n  width: 60%;\n  padding-top: 20px;\n"])));var E=r(9778);const L=()=>{const e=(0,b.T)();return(0,d.useEffect)((()=>{e((0,E._)())}),[e]),(0,F.jsxs)(c.N,{children:[(0,F.jsx)(l.t,{}),(0,F.jsx)(O,{})]})}},3828:(e,n,r)=>{r.d(n,{M:()=>t});const t={getFavorites:e=>e.favourites.favorites,getIsFavourites:e=>e.favourites.isFavorites}},3822:(e,n,r)=>{r.d(n,{Ve:()=>i,Wq:()=>a,xt:()=>o});var t=r(2637),s=r(521);const i=e=>n=>{t.X.addStory(e),n((0,s.gs)(e))},o=e=>n=>{t.X.deleteStory(e),n((0,s.OD)(e))},a=()=>e=>{const n=t.X.getCurrentUser();e(n?(0,s.zX)(n.data.history):(0,s.zX)([]))}},272:(e,n,r)=>{r.d(n,{I:()=>c});var t,s,i=r(168),o=r(2791),a=r(5867),d=r(184);const c=(0,o.forwardRef)(((e,n)=>{const{errorOn:r,...t}=e;return(0,d.jsx)(l,{children:(0,d.jsx)(h,{$errorOn:r,ref:n,...t})})})),l=a.ZP.div(t||(t=(0,i.Z)(["\n  max-width: 315px;\n  width: 100%;\n"]))),h=a.ZP.input(s||(s=(0,i.Z)(["\n  width: 100%;\n  height: 34px;\n  background: ",";\n  border-radius: ",";\n  border: 1px solid ",";\n  color: ",";\n  padding-left: 10px;\n  margin-bottom: 18px;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:hover,\n  :focus {\n    ::placeholder {\n      color: ",";\n    }\n  }\n"])),(e=>e.theme.colors.backgroundInput),(e=>e.theme.borders.primary),(e=>e.$errorOn?e.theme.colors.error:e.theme.colors.white),(e=>e.$errorOn?e.theme.text.error:e.theme.text.textInvert),(e=>e.theme.text.placeholder),(e=>e.theme.text.placeholder))},3052:(e,n,r)=>{r.d(n,{a:()=>l});var t,s,i,o,a=r(168),d=(r(2791),r(5867)),c=r(184);const l=()=>(0,c.jsx)(u,{children:(0,c.jsx)(p,{})}),h=(0,d.F4)(t||(t=(0,a.Z)(["\n  0% { box-shadow: 0 0  inset }\n  50% , 100% { box-shadow: 0 -98px inset }\n"]))),x=(0,d.F4)(s||(s=(0,a.Z)(["\n  0% , 50%{ box-shadow: 0 0  inset }\n  100% { box-shadow: 0 -20px inset }\n"]))),u=d.ZP.div(i||(i=(0,a.Z)(["\n  text-align: center;\n"]))),p=d.ZP.span(o||(o=(0,a.Z)(["\n  width: 40px;\n  height: 98px;\n  display: inline-block;\n  position: relative;\n  border: 2px solid #fff;\n  box-sizing: border-box;\n  color: rgba(255, 61, 0, 0.9);\n  border-radius: 20px 20px 4px 4px;\n  background: #fff;\n  animation: "," 2s linear infinite alternate;\n\n  &::after {\n    content: '';\n    box-sizing: border-box;\n    position: absolute;\n    left: 50%;\n    top: 0%;\n    transform: translate(-50%, -95%);\n    border: 2px solid #fff;\n    border-bottom: none;\n    background: #fff;\n    width: 15px;\n    height: 35px;\n    animation: "," 2s linear infinite alternate;\n  }\n"])),h,x)}}]);
//# sourceMappingURL=716.ee4b3fca.chunk.js.map